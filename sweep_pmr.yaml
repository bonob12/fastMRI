method: bayes
metric:
  name: val_loss
  goal: minimize
program: train.py
project: test_promptmr_sweep

early_terminate:
  type: hyperband
  min_iter: 5

parameters:
  batch_size:
    value: 1
  gradient_accumulation_steps:
    value: 2 
  num_workers:
    value: 4
  num_epochs:
    value: 10
  net_name:
    value: test_promptmr_sweep
  model_name:
    value: utils.model.promptmr.PromptMR
  data_path_train:
    value: ../Data/train/
  data_path_val:
    value: ../Data/val/
  lr:
    distribution: log_uniform_values
    min: 0.0001
    max: 0.005

  num_cascades:
    value: 1
  num_adj_slices:
    value: 1
  n_feat0:
    value: 12
  feature_dim:
    value: 16 20 24
  prompt_dim:
    value: 4 8 12
  sens_n_feat0:
    value: 4
  sens_feature_dim:
    value: 6 8 10
  sens_prompt_dim:
    value: 2 4 6
  len_prompt:
    value: 2 2 2
  prompt_size:
    value: 64 32 16
  n_enc_cab:
    value: 2 3 3
  n_dec_cab:
    value: 2 2 3
  n_skip_cab:
    value: 1 1 1
  n_bottleneck_cab:
    value: 3
  n_buffer:
    value: 0
  n_history: 
    value: 0
  no_use_ca:
    value: True
  learnable_prompt:
    value: False
  adaptive_input:
    value: False
  use_sens_adj:
    value: False
  compute_sens_per_coil:
    value: False

  input_key:
    value: kspace
  target_key:
    value: image_label
  max_key:
    value: max
  seed:
    value: 430